<ttf-box>
    <h1 class="mv0" title>Edit: {{attrDef?.name}}</h1>
    <div class="button h2 pv1 ph2 br2 ttf-header-button ttf-header-fail-button link bg-animate pointer" (click)="confirm.open()" *ngIf="jwt.isAdmin()" title-right>
        <i class="fa fa-trash"></i>
    </div>
    <div class="w-100 ph3 pv2" body>
        <dynamic-form [objectModel]="'AttributeDefinitionPUT'" [startValues]="attrDef" [showSaveButton]="jwt.isAdmin()" (data)="currentAttrDef = $event" (save)="save($event)"></dynamic-form>
    </div>
</ttf-box>
<ttf-box>
    <h1 class="mv0" title>Check definition:</h1>
    <div class="button h2 pv1 ph2 br2 ttf-header-button link bg-animate pointer" (click)="updateTestForm()" *ngIf="jwt.isAdmin()" title-right>
        <i class="fa fa-refresh"></i>
    </div>
    <div class="w-100 ph3 pv2" *ngIf="testForm" body>
        <form [formGroup]="testForm">
            <div *ngFor="let question of questions; trackBy:questionTrackFn" class="form-row">
                <df-question [question]="question" [form]="testForm"></df-question>
            </div>
        </form>
    </div>
</ttf-box>

<ttf-dialog [closable]="false" [dialogType]="'delete-cancel'" [icon]="'delete'" [okCallback]="delete" #confirm>
    <h1 class="mv0" title>Delete "{{attrDef?.name}}"</h1>
    <div class="w-100 ph3 pv2" body>
        Do you want to delete "{{attrDef?.name}}"?
    </div>
</ttf-dialog>
